# config/hpc.yaml
# Configuración optimizada para supercomputadoras (HPC)

# Parámetros físicos
lattice_constant: 5.653
x_ga: 0.25
sigma_ha: 0.01

# Parámetros computacionales
basis_set: "gth-dzvp"
pseudopotential: "gth-pbe"
xc_functional: "PBE"

# Parámetros de convergencia (completos para HPC)
cutoff_list: [80, 100, 120, 140, 160, 180, 200]
kmesh_list: [[2, 2, 2], [3, 3, 3], [4, 4, 4], [5, 5, 5], [6, 6, 6], [8, 8, 8]]

# Configuración de paralelismo (optimizada para HPC)
max_workers: 16  # Ajustar según nodos disponibles
timeout_seconds: 1800  # 30 minutos por cálculo
memory_limit_gb: 64.0  # Memoria alta disponible en HPC

# Configuración de salida
output_dir: "results"
checkpoint_interval: 300  # Checkpoints cada 5 minutos

# Configuración de stages
stage_timeout: 7200  # 2 horas por stage

# Configuración de logging
log_level: "INFO"
log_file: "preconv.log"

# Configuración de GPU (opcional en HPC)
use_gpu: true  # Habilitar si GPUs disponibles
gpu_memory_limit: 8.0

# Configuración específica para HPC
hpc_optimized: true
mpi_enabled: true  # Usar MPI para múltiples nodos
slurm_integration: true  # Integración con SLURM
batch_mode: true  # Modo batch para colas de trabajo

# Configuración de recursos HPC
requested_nodes: 1
cpus_per_node: 16
memory_per_node: "64GB"
walltime: "24:00:00"  # 24 horas máximo
queue: "normal"  # Cola de trabajos

# Configuración de tolerancia a fallos
max_retries: 3
retry_delay: 60  # segundos
checkpoint_on_failure: true